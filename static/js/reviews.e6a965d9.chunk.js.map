{"version":3,"file":"static/js/reviews.e6a965d9.chunk.js","mappings":"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","sources":["services/moviesApi.js","components/ReviewsList/ReviewsList.styled.js","components/ReviewsList/ReviewsList.js","components/Text/Text.styled.js","components/Text/Text.js","views/Reviews.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["import Axios from 'axios';\r\n\r\nconst API_KEY = 'd3c00761eff125b45afbcd52d8235bc7';\r\nconst BASE_URL = 'https://api.themoviedb.org/3/';\r\n\r\nexport const trendingMovieApi = async page => {\r\n  const response = await Axios.get(\r\n    `${BASE_URL}trending/movie/week?api_key=${API_KEY}&page=${page}`,\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const searchMovieApi = async (query, page) => {\r\n  const response = await Axios.get(\r\n    `${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}&page=${page}`,\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const movieDetailsApi = async movieId => {\r\n  const response = await Axios.get(\r\n    `${BASE_URL}movie/${movieId}?api_key=${API_KEY}`,\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const movieCreditsApi = async movieId => {\r\n  const response = await Axios.get(\r\n    `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}`,\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const movieReviewsApi = async (movieId, page) => {\r\n  const response = await Axios.get(\r\n    `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}&page=${page}`,\r\n  );\r\n  return response.data;\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const List = styled.ul`\r\n  margin-left: 40px;\r\n  margin-right: 40px;\r\n`;\r\nexport const Item = styled.li`\r\n  margin-bottom: 10px;\r\n  border: 1px solid #473cad;\r\n  padding: 20px;\r\n  border-radius: 4px;\r\n  line-height: 1.5;\r\n  font-family: sans-serif;\r\n  box-shadow: inset 0 0 10px 5px #473cad;\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Item, List } from './ReviewsList.styled';\r\n\r\nReviewsList.propTypes = {\r\n  reviews: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.string.isRequired,\r\n      author: PropTypes.string,\r\n      content: PropTypes.string,\r\n    }).isRequired,\r\n  ).isRequired,\r\n};\r\n\r\nexport default function ReviewsList({ reviews }) {\r\n  return (\r\n    <List>\r\n      {reviews.map(({ id, author, content }) => (\r\n        <Item key={id}>\r\n          <h3>Author: {author}</h3>\r\n          <p>{content}</p>\r\n        </Item>\r\n      ))}\r\n    </List>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport const StyledText = styled.p`\r\n  margin-left: 40px;\r\n  font-size: 18px;\r\n  font-weight: 400;\r\n  font-style: italic;\r\n  line-height: 1.17;\r\n  color: #fd2620;\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { StyledText } from './Text.styled';\r\n\r\nconst Text = ({ text }) => {\r\n  return <StyledText>{text}</StyledText>;\r\n};\r\n\r\nexport default Text;\r\n\r\nText.propTypes = {\r\n  text: PropTypes.string.isRequired,\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { movieReviewsApi } from '../services/moviesApi';\r\nimport { useParams } from 'react-router-dom';\r\nimport ReviewsList from '../components/ReviewsList';\r\nimport Loader from '../components/Loader';\r\nimport Text from '../components/Text';\r\n\r\nexport default function Reviews() {\r\n  const { movieId } = useParams();\r\n  const [page] = useState(1);\r\n  const [reviews, setReviews] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchMovieReviews = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const { results } = await movieReviewsApi(movieId, page);\r\n        setReviews(results);\r\n\r\n        page === 1\r\n          ? setReviews(results)\r\n          : setReviews(movies => [...movies, ...results]);\r\n      } catch {\r\n        setError(error.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchMovieReviews();\r\n  }, [movieId, page, error]);\r\n\r\n  return (\r\n    <>\r\n      {reviews.length > 0 ? (\r\n        <ReviewsList reviews={reviews} />\r\n      ) : (\r\n        <Text text=\"We don't have any reviews for this movie.\" />\r\n      )}\r\n      {error && toast.error(error.message)}\r\n      {loading && <Loader />}\r\n    </>\r\n  );\r\n}\r\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["API_KEY","BASE_URL","trendingMovieApi","page","Axios","response","data","searchMovieApi","query","movieDetailsApi","movieId","movieCreditsApi","movieReviewsApi","List","styled","Item","ReviewsList","reviews","map","id","author","content","StyledText","text","Reviews","useParams","useState","setReviews","loading","setLoading","error","setError","useEffect","fetchMovieReviews","results","movies","message","length","toast","Loader","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"sourceRoot":""}